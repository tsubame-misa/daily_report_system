<div class="mt-3 mb-3">
  <ul class="nav nav-tabs">
    <!-- 日別タブ -->
    <li class="nav-item">
      <%= link_to "日別表示",
          admin_calendar_path(date: @selected_date.strftime("%Y-%m-%d")),
          class: "nav-link #{ action_name == 'index' ? 'active bg-white text-dark' : 'text-dark' }" %>
    </li>
    <!-- 月別タブ -->
    <li class="nav-item">
      <%= link_to "月別表示",
          admin_calendar_month_path(month: @selected_date.beginning_of_month.strftime("%Y-%m")),
          class: "nav-link #{ action_name == 'month' ? 'active bg-white text-dark' : 'text-dark' }" %>
    </li>
  </ul>
</div>
<h2><%= "#{@selected_year}年#{@selected_month}月の日報カレンダー" %></h2>

<!-- 📅 カレンダー表示 -->
<table class="calendar">
  <thead>
    <tr>
      <% %w[日 月 火 水 木 金 土].each do |day| %>
        <th><%= day %></th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <% @dates.each do |week| %>
      <tr>
        <% week.each do |date| %>
          <td class="<%= 'outside-month' if date.month != @selected_month %>">
            <div class="date-label"><%= date.day %></div>
            <div class="report-list">
              <% @reports_by_date[date]&.each do |report| %>
                <div class="report-item">
                  <%= link_to "#{report.user.name} の日報", report_path(report) %>
                </div>
              <% end %>
            </div>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
