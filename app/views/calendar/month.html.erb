<%# カレンダーのヘッダー部分 %>
<div class="user-calendar-container">
  <div class="user-calendar-header">
    <h2 class="text-center"><%= @selected_year %>年 <%= @selected_month %>月</h2>
    <div class="navigation-buttons">
      <%= link_to '前月', calendar_month_path(date: @prev_month), class: 'btn btn-outline-primary' %>
      <%= link_to '次月', calendar_month_path(date: @next_month), class: 'btn btn-outline-primary' %>
    </div>
  </div>

  <%# カレンダー本体 %>
  <table class="user-calendar">
    <thead>
      <tr>
        <th class="text-center">日</th>
        <th class="text-center">月</th>
        <th class="text-center">火</th>
        <th class="text-center">水</th>
        <th class="text-center">木</th>
        <th class="text-center">金</th>
        <th class="text-center">土</th>
      </tr>
    </thead>
    <tbody>
      <% @calendar_weeks.each do |week| %>
        <tr>
          <% week.each do |date| %>
            <% if date.nil? %>
              <td class="text-center empty-cell"></td>
            <% else %>
              <% has_report = @report_dates[date].present? %>
              <td class="text-center <%= 'has-report' if has_report %>">
                <% if has_report %>
                  <%= link_to date.day, report_path(@report_dates[date]), class: 'report-date' %>
                <% else %>
                  <span class="date"><%= date.day %></span>
                <% end %>
              </td>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
